<div class="w-full h-fit flex flex-col gap-2">
    @for (item of items(); track $index) {
    @if (item.show) {
    <ng-container [ngTemplateOutlet]="cardProgressBar"
        [ngTemplateOutletContext]="{ value: item, index: $index }"></ng-container>
    }
    }
</div>



<ng-template #cardProgressBar let-value="value" let-index="index">
    <a (click)="emitSelected(index, value.status)" class="group flex gap-4 items-center w-full h-fit px-4 py-2 rounded-2xl"
        [ngClass]="{'opacity-50 cursor-not-allowed shadow-inner': value.disabled, 'hover:bg-neutral-50 hover:shadow cursor-pointer':!value.disabled}">

        @switch (value.status) {
        @case ('success') {
        <div class="w-10 h-10 bg-brand-green-300 rounded-full flex justify-center items-center shadow">
            <svg class="w-6 h-6 fill-neutral-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z" />
            </svg>
        </div>
        }
        @case ('select') {
        <div
            class="w-10 h-10 bg-neutral-300 rounded-full flex justify-center items-center shadow outline outline-offset-2 outline-neutral-300">
            <svg class="w-4 h-4 fill-neutral-50 animate-ping" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 -960 960 960">
                <path
                    d="M480-280q83 0 141.5-58.5T680-480q0-83-58.5-141.5T480-680q-83 0-141.5 58.5T280-480q0 83 58.5 141.5T480-280Zm0 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
            </svg>
        </div>
        }
        @case ('select-success') {
        <div
            class="w-10 h-10 bg-brand-green-500 rounded-full flex justify-center items-center shadow outline outline-offset-2 outline-brand-green-500">
            <svg class="w-6 h-6 fill-neutral-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z" />
            </svg>
        </div>
        }
        @case ('pending') {
        <div class="w-10 h-10 bg-neutral-100 rounded-full flex justify-center items-center shadow">
            <svg class="w-6 h-6 fill-neutral-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path
                    d="m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z" />
            </svg>
        </div>
        }
        @case ('loading') {
        <div
            class="w-10 h-10 bg-neutral-300 rounded-full flex justify-center items-center shadow outline outline-offset-2 outline-neutral-300">
            <svg class="w-6 h-6 fill-neutral-50 animate-spin" xmlns="http://www.w3.org/2000/svg" height="24px"
                viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                <path
                    d="M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q17 0 28.5 11.5T520-840q0 17-11.5 28.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-17 11.5-28.5T840-520q17 0 28.5 11.5T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Z" />
            </svg>
        </div>
        }
        }

        <div class="flex flex-col">
            <span class="font-bold text-neutral-900">{{value.title}} </span>
            @if (value.description) {
            <span class="font-bold text-xs text-neutral-400">{{value.description}}</span>
            }

        </div>
    </a>
</ng-template>